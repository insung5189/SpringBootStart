<!doctype html>
<html lang="ko" layout:decorate="~{layout}"  xmlns:th="http://www.w3.org/1999/xhtml" xmlns:layout="http://www.w3.org/1999/xhtml">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
            <meta http-equiv="X-UA-Compatible" content="ie=edge">
            <title>질문 상세보기 페이지</title>
        </head>
<body>
    <div layout:fragment="content" class="container my-3">

    <!-- 질문 -->
    <!--<h1 th:text="${question.subject}"></h1>--> <!--Controller에 detail메서드와 연결됨-->
    <h2 class="border-bottom py-2" th:text="${question.subject}"></h2> <!--부트스트랩-->
    <!--<div th:text="${question.content}"></div>--> <!--Controller에 detail메서드와 연결됨-->
    <div class="card my-3"><!--부트스트랩-->
        <div class="card-body">
            <div class="card-text" style="white-space: pre-line;" th:text="${question.content}"></div>
            <div class="d-flex justify-content-end">
                <div class="badge bg-light text-dark p-2 text-start">
                    <div th:text="${#temporals.format(question.createDate, 'yyyy-MM-dd HH:mm')}"></div>
                </div>
            </div>
        </div>
    </div><!--부트스트랩-->

    <!--질문 상세 페이지에 답변 표시하기-->
    <!--<h5 th:text="|${#lists.size(question.answerList)}개의 답변이 있습니다.|"></h5>-->
    <h5 class="border-bottom my-3 py-2"
        th:text="|${#lists.size(question.answerList)}개의 답변이 있습니다.|"></h5> <!--부트스트랩-->

    <!--답변 반복 시작-->
        <div class="card my-3" th:each="answer : ${question.answerList}">
            <a th:href="@{|/answer/detail/${answer.id}|}" class="item-text-1">
                <div class="card-body">
                    <div class="card-text" style="white-space: pre-line;" th:text="${answer.content}"></div>
                    <div class="d-flex justify-content-end">
                        <div class="badge bg-light text-dark p-2 text-start">
                            <div th:text="${#temporals.format(answer.createDate, 'yyyy-MM-dd HH:mm')}"></div>
                        </div>
                    </div>
                </div>
            </a>
        </div>
    <!-- 답변 반복 끝  -->

    <!--<div>
        <ul>
            <li th:each="answer : ${question2.answerList}">
                <a th:href="@{|/answer/detail/${answer.id}|}" th:text="${answer.content}"></a>
                답변리스트에 하이퍼링크 달기 성공!
            </li>
        </ul>
        질문 상세페이지에서 답변목록에 하나하나 하이퍼링크를 달아보려고 a태그를 달았음
    </div>
    -->

    <!--답변 등록상자 넣기-->
        <form th:action="@{|/answer/create/${question.id}|}" th:object="${answerForm}" method="post" class="my-3">
            <div th:replace="~{form_errors :: formErrorsFragment}"></div>
            <textarea th:field="*{content}" name="content" id="content" rows="10" class="form-control"></textarea>
            <input type="submit" value="답변등록" class="btn btn-primary my-2">
        </form>

        <a th:href="@{/question/list}">
            <input type="submit" value="질문목록보기" class="btn btn-primary" style="float: right;">
        </a> <!--질문 목록으로 돌아가는 앵커태그-->
    </div>
</body>
</html>